_SIX_ROOMS_CB_(["864157"],{"++oU":function(c,l,a){l=c.exports=a("FZ+f")(void 0);l.push([c.i,'.viewport-index{padding:98px 0 60px;background:#f1f1f1;min-height:100%}.viewport-index .event-banner{display:block;width:100%;height:55px;position:fixed;top:0;right:0;left:0;background-size:cover;background-repeat:no-repeat;background-position:50%;z-index:1;-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-transition-property:transform;transition-property:transform;-webkit-transform:translateY(44px);transform:translateY(44px)}.viewport-index .event-banner .g-carousel{height:55px}.viewport-index .event-banner .g-carousel .item{background-size:cover;background-repeat:no-repeat}.viewport-index .event-banner .indicator{width:100%;margin:0;padding:0;position:absolute;bottom:0;text-align:center;pointer-events:none}.viewport-index .event-banner .indicator li{display:inline-block;width:5px;height:5px;border:1px solid #fff;margin:0 3px;border-radius:50%}.viewport-index .event-banner .indicator li.on{background:#fff}.viewport-index .event-banner.collapsed{-webkit-transform:translateY(-99px);transform:translateY(-99px)}.viewport-index .livecate{position:fixed;top:0;right:0;left:0;z-index:2;background:transparent}.viewport-index .livecate ul{height:46px;border-top:8px solid #f1f1f1;padding:0;margin:0;list-style:none;overflow-x:auto;overflow-y:hidden;will-change:transform;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-transition-property:transform;transition-property:transform;-webkit-transform:translateY(44px);transform:translateY(44px);background:#fff}.viewport-index .livecate ul li{-webkit-box-flex:1;-webkit-flex:1;flex:1;min-width:60px;height:100%;text-align:center;line-height:46px;font-size:14px;position:relative}.viewport-index .livecate ul li.on{color:#f03534}.viewport-index .livecate ul li.on:after{content:" ";display:block;width:18px;height:3px;border-radius:4px;background:#f03534;font-size:0;line-height:0;position:absolute;left:50%;margin-left:-9px;bottom:9px}.viewport-index .livecate.collapse ul{-webkit-transform:translateY(-8px);transform:translateY(-8px)}.viewport-index .tag-navigator{width:100%;background:#fff}.viewport-index .tag-navigator header{height:80px;border-top:1px solid #eee;position:relative;overflow:hidden}.viewport-index .tag-navigator header .main{height:100%}.viewport-index .tag-navigator header .icon{width:50px;box-sizing:border-box;padding:0 0 0 8px;color:#666;position:absolute;right:0;top:0;text-align:center;line-height:80px;background:#fff;background:-webkit-linear-gradient(270deg,#fff,#fff 80%,hsla(0,0%,100%,0));background:linear-gradient(270deg,#fff,#fff 80%,hsla(0,0%,100%,0))}.viewport-index .tag-navigator header .icon .iconfont{display:block;-webkit-transition-property:transform;transition-property:transform;-webkit-transition-duration:.4s;transition-duration:.4s;color:#999;font-weight:100;font-size:16px}.viewport-index .tag-navigator .tag-list{margin:0;padding:0 50px 0 0}.viewport-index .tag-navigator .tag-list .tag-item{width:60px;height:80px;box-sizing:border-box;padding:56px 10px 10px;display:inline-block;position:relative;background-size:40px auto;background-position:center 10px;background-repeat:no-repeat;vertical-align:top;list-style:none;font-size:12px;text-align:center;color:#666}.viewport-index .tag-navigator .tag-list .tag-item.on{color:#333}.viewport-index .tag-navigator .tag-list .tag-item.on:after{content:"";display:block;width:36px;height:2px;background:#ccc;position:absolute;bottom:0;left:50%;margin-left:-18px}.viewport-index .tag-navigator.expand header{height:60px}.viewport-index .tag-navigator.expand header .main{line-height:60px;padding:0 0 0 15px}.viewport-index .tag-navigator.expand header .icon{line-height:60px}.viewport-index .tag-navigator.expand header .icon .iconfont{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.viewport-index .tag-navigator.expand .tag-list{padding:0 26px}.viewport-index .info{padding:20px 10px 0;font-size:16px;color:#666;text-align:center}.viewport-index .loading{padding:10px 0;text-align:center}.viewport-index .zoro{width:55px;position:fixed;right:0;bottom:55px;height:60px;z-index:2}.viewport-index .zoro .app-capsule{will-change:transform;-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-transition-property:transform;transition-property:transform}.viewport-index .zoro.hidden{pointer-events:none}.viewport-index .zoro.hidden .app-capsule{-webkit-transform:translate(100px);transform:translate(100px)}.viewport-index .index-location-select{height:40px;position:relative;background:#fff}.viewport-index .index-location-select select{box-sizing:border-box;width:100%;height:100%;color:#f03534;font-size:16px;background:transparent;border:0;padding:0 30px 0 20px;-webkit-appearance:none;outline:none}.viewport-index .index-location-select .iconfont{position:absolute;right:10px;top:12px;color:#ababa9;font-size:18px;pointer-events:none}.viewport-index .phone-star-overlay .overlay{width:400px;height:392px;background-color:transparent;background-image:url("//vr0.6rooms.com/v/b6/68251668175d10c536b258e637e1c799.png");background-repeat:no-repeat;background-position:50%;background-size:100%}.viewport-index .phone-star-overlay .overlay .wrap{width:231.5px;height:226.5px;margin:115px auto 0;padding:1px;position:relative}.viewport-index .phone-star-overlay .overlay .wrap .icon{width:70px;height:70px;background-image:url("//vi2.6rooms.com/live/2015/07/27/12/1003v1437970531975077892.png");background-size:100%;background-repeat:no-repeat;background-position:50%;margin:40px auto 0}.viewport-index .phone-star-overlay .overlay .wrap .intro{padding:8px 0;margin:0 auto;font-size:14px;text-align:center;color:#614629}.viewport-index .phone-star-overlay .overlay .wrap .btn{height:50px;background-image:url("//vr0.6rooms.com/v/x2/d3bcdf89ca9a82432d1b5b1ba9c808c9.png");background-size:135.66667px 89px;background-repeat:no-repeat;background-position:center 5px}.viewport-index .phone-star-overlay .overlay .wrap .btn:active{background-position:center -45px}.viewport-index .phone-star-overlay .overlay .wrap .btn.disable{opacity:.4}.viewport-index .phone-star-overlay .overlay .wrap .close{width:54px;height:54px;background-image:url("//vr0.6rooms.com/v/c5/8f91aa13a1ea58fd5e59469a21f874ea.png");background-position:center 18px;background-size:18px 89px;background-repeat:no-repeat;position:absolute;right:-13px;top:-16px}.viewport-index .phone-star-overlay .overlay .wrap .close:active{background-position:center -32px}.viewport-index .phone-star-overlay .closebtn{visibility:hidden}.viewport-index .transition-of-to-room{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#211f34;z-index:3;-webkit-transform-origin:left top;transform-origin:left top}.viewport-index .transition-of-to-room .fake-player{position:relative;background-repeat:no-repeat;background-size:cover;background-position:50%;-webkit-transform-origin:left top;transform-origin:left top}.viewport-index .float-qr{position:fixed;left:10px;bottom:70px;width:145px;height:214px}.viewport-index.has-event-banner{padding-top:145px}.viewport-index.has-event-banner .livecate ul{border-top:0;-webkit-transform:translateY(99px);transform:translateY(99px)}.viewport-index.has-event-banner .livecate.collapse ul{-webkit-transform:translateY(0);transform:translateY(0)}',
""])},"078d":function(c,l,a){c=a("BYKG");var g=a.n(c);c=a("agns");a.n(c);var e=a("T5Bi"),e=a.n(e),k=a("/ule"),f=a.n(k),k=a("TkXE"),b=a.n(k),k=a("V6zD"),d=a.n(k),m=a("u4sq");a.n(m);var n=a("fiJj"),p=a("KV26"),w=a("O+kd"),h=a("VSEd"),u=a("mag7"),x=a("DP0g"),t=a("ZiWJ"),q=a("XB/8"),A=a("nVRx");a=g.a.fromJS({currentCategory:"hotrecom",currentCategoryName:"\u70ed\u95e8\u76f4\u64ad",currentTagID:"-1",lazyloadIndex:{},scrollTop:0,scrollTopUrl:"",showingAppBanner:!1,showingTagNavigator:!1,showPhoneStar:!1,
fetchingPhoneStar:!1,expandTagNavigator:!1,willToRoom:null,eventEntry:[{url:"/event/wheel-of-first-charge-all",bannerImage:"//vr0.6rooms.com/v/s7/a72790bdc303e9a052e8658f6d613315.png"}],analytic:{pageName:null,recID:null}});g=function(a,b,h){b in a?Object.defineProperty(a,b,{value:h,enumerable:!0,configurable:!0,writable:!0}):a[b]=h;return a}({},"page.index.LAZYLOAD",function(a,b){var h=a.get("currentCategory"),d=a.get("currentTagID"),h="-1"!=d&&"hotrecom"==h?d:h,d=a.getIn(["lazyloadIndex",h],0)+
30;return a.setIn(["lazyloadIndex",h],d)});t.a.registerByMap("page.index",a,g);a=function r(){r.superclass.constructor.call(this,t.a,"page.index");this._stickyRid=[];this._stickyXianChang=!1;this._pathname="";this._bindSelf("toggleTagNavigator","hidePhoneStarOverlay","getPhoneStar","_whetherShowAppBanner","_receiveRecIDHandler","_getPhoneStarBack");h.a.isResolved()?this._whetherShowAppBanner():h.a.promise.then(this._whetherShowAppBanner)};Object(c.extend)(a,e.a,{actionCreator:{lazyload:function(){return{type:"page.index.LAZYLOAD"}}},
setup:function(){var a=/^\/$|^\/live\/([\w-]+)\/?$/.exec(location.pathname),a=a&&a[1]||"hotrecom",h=b.a.param(location.search),f=h.xian,c=h.mark,n=h.sticky||m.localStorage.getItem("sticky"),f=f||m.localStorage.getItem("xian");this._pathname=location.pathname;d.a.subscribe("receive-recid",this._receiveRecIDHandler);c&&c!=m.sessionStorage.getItem("index-mark")&&(m.sessionStorage.setItem("index-mark",c),p.a.push(c));n&&(this._stickyRid=n.split(","),m.localStorage.setItem("sticky",n));f&&(this._stickyXianChang=
!0,m.localStorage.setItem("xian",1));h.disablephonestar&&this.hidePhoneStarOverlay();0==a.indexOf("tag-")?this.changeTagID(a.slice(4)):this.changeCategory(a);this._whetherShowPhoneStarOverlay();this._whetherShowTagNavigator()},teardown:function(){d.a.unsubscribe("receive-recid",this._receiveRecIDHandler);this.collapseTagNavigator();this.update({willToRoom:null,currentTagID:"-1",analytic:{pageName:null,recID:null}})},changeCategory:function(a){var b=q.a.getState().get("byrtype"),d=q.a.getState().get("bycate"),
b=b.get(a,d.get(a));if("follow"==a&&!w.a.isLogin())return w.a.toLogin();b&&(this.update({currentCategory:a,currentCategoryName:b.get("name")}),"hotrecom"==b.get("code")&&(0<this._stickyRid.length&&q.a.getSticky(this._stickyRid),this._stickyXianChang&&q.a.getXianChang(),5705==h.a.get()&&(q.a.getByTag(1),q.a.getByTag(1013),q.a.getByTag(2))));q.a.get(a)},getCurrentCategoryInfo:function(){var a=q.a.getState(),b=a.get("byrtype"),a=a.get("bycate"),h=this.getState().get("currentCategory");return b.get(h,
a.get(h))},changeTagID:function(a){q.a.getByTag(a);this.update({currentCategory:"hotrecom",currentTagID:a})},getCurrentTagInfo:function(){var a=q.a.getState(),b=this.getState().get("currentTagID");return a.getIn(["bytag",b])},getLiveList:function(){var a=this.getState(),b=q.a.getState(),h=a.get("currentTagID"),a=a.get("currentCategory");b="-1"!=h&&"hotrecom"==a?b.getIn(["bytag",h,"list"])||null:"hotrecom"==a?this._cacheHot():(b=this.getCurrentCategoryInfo())?b.get("list"):null;return b},getLazyloadKey:function(a){var b=
a||this.getState();a=b.get("currentTagID");b=b.get("currentCategory");return"-1"!=a&&"hotrecom"==b?a:b},getLazyloadIndex:function(a){a=a||this.getState();var b=this.getLazyloadKey(a);return a.getIn(["lazyloadIndex",b],0)},recordScrollTop:function(a){this.update({scrollTop:a,scrollTopUrl:this._pathname})},getPhoneStar:function(){var a=this;w.a.isLogin()?(this.update({fetchingPhoneStar:!0}),Object(x.a)().then(function(b){Object(n.b)("coop-mobile-excGif.php",{act:"r",eqfp:b}).then(a._getPhoneStarBack)})):
A.a.showLoginConfirm()},hidePhoneStarOverlay:function(){this.update({showPhoneStar:!1})},collapseTagNavigator:function(){this.update({expandTagNavigator:!1})},expandTagNavigator:function(){this.update({expandTagNavigator:!0})},toRoom:function(a){this.update({willToRoom:a})},toggleTagNavigator:function(){this.update({expandTagNavigator:!this.getState().get("expandTagNavigator")})},_cacheHot:function(){var a=q.a.getState(),b=5705==h.a.get()||0<this._stickyRid.length||this._stickyXianChang,d=a.getIn(["bycate",
"hotrecom","list"]);if(b)var f=this._cacheTime,d=(b=this._cacheList)&&f&&!Object.keys(f).some(function(b){return a.getIn(b.split(",").concat("_utime"))!==f[b]})?b:this._mixHot();return d},_mixHot:function(){var a=q.a.getState(),b=this._cacheTime||{},d=a.getIn(["bycate","hotrecom"]),f=d.get("list");b["bycate,hotrecom"]=d.get("_utime",0);if(5705==h.a.get()){var d=a.getIn(["bytag","1013"]),m=a.getIn(["bytag","1"]),c=a.getIn(["bytag","2"]);b["bytag,1013"]=d?d.get("_utime",0):0;b["bytag,1"]=m?m.get("_utime",
0):0;b["bytag,2"]=c?c.get("_utime",0):0;c&&(f=c.get("list").concat(f));d&&(f=d.get("list").concat(f));m&&(f=m.get("list").concat(f))}this._stickyXianChang&&(d=a.getIn(["bycate","xianchang"]),b["bycate,xianchang"]=d.get("_utime",0),f=d.get("list").concat(f));0<this._stickyRid.length&&(a=a.getIn(["bycate","sticky"]),b["bycate,sticky"]=a.get("_utime",0),f=a.get("list").concat(f));f=f.groupBy(function(a){return a.get("uid")}).map(function(a){return a.first()}).toList();this._cacheTime=b;return this._cacheList=
f},_getPhoneStarBack:function(a){"203"==a.flag?A.a.showLoginConfirm():"001"!=a.flag&&alert(a.content);this.hidePhoneStarOverlay();m.localStorage.setItem("last-get-phone-star",Date.now())},_whetherShowPhoneStarOverlay:function(){var a=Number(m.localStorage.getItem("last-get-phone-star")||0),a=new Date(a),b=h.a.get(),d=!1;5719!=b&&5722!=b&&5833!=b&&a.toDateString()!=(new Date).toDateString()&&(d=!0);this.update({showPhoneStar:d})},_whetherShowAppBanner:function(){this.update({showingAppBanner:!(f.a.iOS&&
window.navigator.standalone)&&Object(u.a)()})},_whetherShowTagNavigator:function(){var a=document.documentElement;.7>a.clientWidth/a.clientHeight&&this.update({showingTagNavigator:!0})},_receiveRecIDHandler:function(a,b){this.update({analytic:{pageName:b,recID:a}})}});l.a=new a},"3oFU":function(c,l,a){Object.defineProperty(l,"__esModule",{value:!0});c=a("d+A+");a.n(c);c=a("SgXG");a.n(c);var g=a("KV26"),e=a("Fcwr"),k=a("cLh8"),f=a("VSEd");c=a("GiK3");var b=a.n(c);c=a("DT0+");var d=a.n(c);c=a("Ub9P");
var m=a("ej2W"),n=a("Lqlk"),p=a("li1U"),w=a("9a+M"),h=a("HG4Y"),u=a("fBrz"),x=a("kFli"),t=a("onOd"),q=a("jOJO"),A=a("9r7w"),D=a("XB/8"),r=a("078d"),E=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var d=arguments[b],h;for(h in d)Object.prototype.hasOwnProperty.call(d,h)&&(a[h]=d[h])}return a};a=d()({displayName:"IndexPage",_resetedScrollTop:!0,_resetScrollTopTimer:null,render:function(){var a=this.props,d=a.page,c=a.live,e=a.baseFrame,g=a.className,l=d.get("eventEntry"),z=r.a.getCurrentCategoryInfo(),
y=z&&z.get("code"),a=e.get("collapsed"),C=r.a.getLiveList(),B=0<l.size&&!k.a.yes(),g=g+(B?" has-event-banner":""),v=[];d.get("showingAppBanner")&&v.push(b.a.createElement(h.a,{hidden:a,key:"appBanner"}));B&&v.push(b.a.createElement(A.a,{key:"event-carousel",eventEntry:l,collapsed:e.get("collapsed")}));y&&v.push(b.a.createElement(p.a,{current:y,collapse:a,key:"liveCategory"}));"hotrecom"==y&&0<c.get("tagOrder").size&&d.get("showingTagNavigator")&&v.push(b.a.createElement(x.a,{live:c,expand:d.get("expandTagNavigator"),
current:d.get("currentTagID"),onToggle:r.a.toggleTagNavigator,key:"tagNavigator"}));d.get("showPhoneStar")&&v.push(b.a.createElement(t.a,{key:"phoneStarOverlay",fetching:d.get("fetchingPhoneStar"),onClose:r.a.hidePhoneStarOverlay,onSubmit:r.a.getPhoneStar}));d.get("willToRoom")&&v.push(b.a.createElement(q.a,{key:"transition",data:d.get("willToRoom")}));C&&0!=C.size?C&&0<C.size&&(e=r.a.getLazyloadIndex(),B=d.get("currentTagID"),l=C.slice(0,e),B="-1"!=B&&"hotrecom"==y?"tag-"+B:y,"nearby"==y&&v.push(b.a.createElement(u.a,
{value:z.get("location"),list:z.get("locationList"),onChange:D.a.changeLocation,key:"locationSelect"})),v.push(b.a.createElement(m.a,{key:"livelist",complete:C.size<=e,onDemand:this.demandMoreList},b.a.createElement(w.a,{code:B,list:l,tagIcon:c.get("tagIcon"),onClickItem:this.onClickLiveItem})))):v.push(b.a.createElement("div",{className:"page-loading",key:"loading"},b.a.createElement("b",{className:"spinner s"})));if(!k.a.yes()||k.a.conf("event"))c=d.get("showingAppBanner"),z=55,y=void 0,a?z=5:c&&
(z=120),y={bottom:z},v.push(b.a.createElement("a",{key:"wheel-of-first-charge",style:y,href:"/event/wheel-of-first-charge-all",className:"wheel-of-first-charge"}));5574==f.a.get()&&1024<=window.innerWidth&&v.push(b.a.createElement("img",{key:"float-qr",className:"float-qr",src:"//vr0.6rooms.com/v/o1/1543718415b89ecbe79f027abeada26c.jpg"}));return b.a.createElement("div",{className:g},b.a.createElement(n.a,E({title:d.get("currentCategoryName"),autoCollapse:this._resetedScrollTop},this.props)),b.a.createElement("div",
{className:"mainframe"},v))},componentDidMount:function(){Promise.polyfill?location.assign("/nonsupport"):(r.a.setup(),this._resetedScrollTop=0==this.props.page.get("scrollTop"),this._resetScrollTopTimer=window.setTimeout(this.resetScrollTop,100))},componentDidUpdate:function(a,b){var d=this.props.page,h=r.a.getLiveList(),f=r.a.getLazyloadIndex(),m=d.get("scrollTop"),c=a.page.get("scrollTop");0<m&&0<c&&(clearTimeout(this._resetScrollTopTimer),this._resetScrollTopTimer=window.setTimeout(this.resetScrollTop,
100));var m=r.a.getLazyloadKey(),c=r.a.getLazyloadKey(a.page),n=r.a.getLazyloadIndex(a.page);d.getIn(["analytic","pageName"])&&m==c&&f>n&&h&&h.size>n&&(d=h.slice(n,f).toArray().map(function(a){return a.get("uid")}),0<d.length&&Object(e.f)(d))},componentWillUnmount:function(){r.a.teardown();clearTimeout(this._resetScrollTopTimer)},onClickLiveItem:function(a,b){this.recordScrollTop();if(b&&b.get("videotype")&&b.get("flvtitle")&&b.get("pospic")&&g.a.spa)return a.preventDefault(),r.a.toRoom(b),!1},demandMoreList:function(){r.a.lazyload()},
recordScrollTop:function(a){a="number"==typeof a?a:Math.max(document.body.scrollTop,document.documentElement.scrollTop);r.a.recordScrollTop(a)},resetScrollTop:function(){var a=this.props,b=a.page,a=a.live,d=r.a.getCurrentCategoryInfo();!a.get("fetching")&&d&&0<d.get("list").size&&(location.pathname==b.get("scrollTopUrl")&&(document.body.scrollTop=document.documentElement.scrollTop=b.get("scrollTop")),this._resetedScrollTop=!0,this.recordScrollTop(0))}});l["default"]=Object(c.a)(a,{className:"viewport-index",
mapStateToProps:function(a){return{page:a.page.index,live:a.live,notice:a.notice,user:a.user,baseFrame:a.baseFrame}}})},"9a+M":function(c,l,a){c=a("BfDj");var g=a.n(c);c=a("GiK3");var e=a.n(c);c=a("DT0+");c=a.n(c);var k=a("tZ8z"),k=a.n(k),f=a("wCdf"),b=a("eMPr"),d=c()({displayName:"Item",mixins:[k.a],render:function(){var a=this.props,d=a.item,f=a.index,c=a.tagIcon,h,u,x={},t,q,k;if(d.get("xianChang"))h="/"+d.get("rid"),u=d.get("alias"),k=d.get("count"),x.backgroundImage="url("+g.a.url(d.get("posterpic"),
"_b")+")";else if(d.get("rid")){var l=d.get("tagids"),r=d.get("recTagName"),l="string"==typeof l?[]:l.toArray();h="/"+d.get("rid");u=d.get("username")||d.get("alias");a=d.get("pospic")||d.get("pic");k=d.get("count");0<l.length&&c&&(l=l.filter(function(a){return c.get(String(a))}),t=l.map(function(a){var b={backgroundImage:'url("'+c.get(String(a))+'")'};return e.a.createElement("span",{className:"tag-icon",style:b,key:a})}));a&&0<a.indexOf("_s.")&&(a=g.a.url(a,"_b"));a&&(x.backgroundImage="url("+a+
")");r&&(q=e.a.createElement("span",{className:"rec-tag"},r))}return e.a.createElement(b.a,{href:h,id:"live-list-item-"+d.get("rid"),className:"livelist-item","data-index":f,onClick:this.onClick},e.a.createElement("div",{className:"pic",style:x},q,e.a.createElement("div",{className:"tag"},t)),e.a.createElement("div",{className:"text"},e.a.createElement("p",{className:"alias"},u),e.a.createElement("p",{className:"viewer"},e.a.createElement("span",null,e.a.createElement("i",{className:"iconfont icon-avatar"}),
k))))},onClick:function(a){var b=this.props,d=b.item;if(b=b.onClick)return b(a,d)}});a=c()({displayName:"LiveList",mixins:[k.a],render:function(){var a=this.props;return e.a.createElement("div",{className:"livelist","data-tracing":a.code},e.a.createElement(f.a,{list:a.list,width:a.width,component:d,itemWidth:a.itemWidth||160,itemHeight:this.calculateItemHeight,tagIcon:a.tagIcon,onClick:a.onClickItem}))},calculateItemHeight:function(a){return Math.round(a+36)}});l.a=a},"9r7w":function(c,l,a){c=a("GiK3");
var g=a.n(c);c=a("DT0+");c=a.n(c);var e=a("DzMU"),k=a("BQMe"),f=c()({displayName:"Item",render:function(){var a=this.props,d=a.style;d.backgroundImage="url("+a.data.get("bannerImage")+")";return g.a.createElement(e.a,{className:"item",style:d,onTap:this.onTap})},onTap:function(){location.assign(this.props.data.get("url"))}});a=c()({displayName:"EventCarousel",_index:0,_timer:null,_carousel:null,render:function(){var a=this.props,d=a.eventEntry,a="event-banner"+(a.collapsed?" collapsed":""),c=[];if(1<
d.size&&this._carousel)for(var n=this._carousel.getDataIndex(this._index),e=0;e<d.size;e++)c.push(g.a.createElement("li",{className:e==n?"on":"",key:e}));return g.a.createElement("div",{className:a},g.a.createElement(k.a,{carousel_width:window.innerWidth,carousel_list:d,carousel_total:d.size,carousel_index:this._index,carousel_itemComponent:f,carousel_loop:1<d.size,carousel_onSwitch:this.onSwitch,ref:this.refCarousel}),g.a.createElement("ul",{className:"indicator"},c))},componentDidMount:function(){1<
this.props.eventEntry.size&&this.autoRun()},componentWillUnmount:function(){clearTimeout(this._timer)},autoRun:function(){this._timer&&this._carousel.slideToNext();this._timer=setTimeout(this.autoRun,6E3)},onSwitch:function(a){this._index=a;this.forceUpdate()},refCarousel:function(a){this._carousel=a}});l.a=a},BQMe:function(c,l,a){var g=a("agns");a.n(g);c=a("GiK3");var e=a.n(c);c=a("DT0+");c=a.n(c);var k=a("tZ8z"),k=a.n(k),f=a("iMHc");a=c()({displayName:"Carousel",mixins:[k.a],getDefaultProps:function(){return{carousel_className:"",
carousel_width:document.documentElement.clientWidth,carousel_index:0,carousel_preventDefaultWhenStartTouch:!0}},_scrollComp:null,_nextIndex:0,render:function(){var a=this.props,d=a.carousel_className,c=a.carousel_width,n=a.carousel_list,p=a.carousel_index,w=a.carousel_itemComponent,a=a.carousel_preventDefaultWhenStartTouch,h=this._getListRange(),u=[],x={width:c*(h[1]-h[0])},d="g-carousel "+d;this._nextIndex=p;for(p=h[0];p<h[1];p++){var t=n.get(this.getDataIndex(p)),q={width:c},k=Object(g.omit)(this.props,
function(a){return 0===a.indexOf("carousel_")});Object(g.mix)(k,{data:t,style:q,key:p});u.push(e.a.createElement(w,k))}return e.a.createElement(f.a,{ref:this._refScroll,axis:"x",momentum:!1,preventDefault:a,onScrollEnd:this.onScrollEnd},e.a.createElement("div",{style:x,className:d},u))},componentDidMount:function(){this._scrollComp.scrollTo(this._getStablePosition(),0)},componentDidUpdate:function(a){this._scrollComp.refresh();this._scrollComp.scrollTo(this._getStablePosition(),0)},onScrollEnd:function(){var a=
this.props,d=a.carousel_index,f=a.carousel_onSwitch,c=this._scrollComp,e=0<c.distX?"right":"left";0!=Math.abs(c.x%a.carousel_width)?"left"==e?this.slideToNext():this.slideToPrevious():f&&this._nextIndex!=d&&f(this._nextIndex)},slideToNext:function(){var a=this.props.carousel_index,d=!1;this._canMove("left")&&(this._nextIndex=this._limitIndex(a+1),this._scrollComp.scrollTo(this._getStablePosition(this._nextIndex),0,300),d=!0);return d},slideToPrevious:function(){var a=this.props.carousel_index,d=!1;
this._canMove("right")&&(this._nextIndex=this._limitIndex(a-1),this._scrollComp.scrollTo(this._getStablePosition(this._nextIndex),0,300),d=!0);return d},getDataIndex:function(a){var d=this.props.carousel_total;a%=d;return 0>a?d+a:a>=d?d-a:a},_getListRange:function(a,d){var f=this.props,c=f.carousel_index,e=f.carousel_total,f=f.carousel_loop;a="undefined"==typeof a?c:a;d="undefined"==typeof d?e:d;return f?[a-2,a+3]:[Math.max(0,a-2),Math.min(d,a+3)]},_canMove:function(a){var d=this.props,f=d.carousel_index,
c=d.carousel_total,e=!1;return e=d.carousel_loop?1<c:"right"==a&&0<f||"left"==a&&f<c-1},_getStablePosition:function(a){var d=this.props,f=d.carousel_index,d=d.carousel_width;return(this._getListRange()[0]-("undefined"==typeof a?f:a))*d},_limitIndex:function(a){var d=this.props,f=d.carousel_total,c=a;d.carousel_loop||(c=Math.max(0,Math.min(f-1,a)));return c},_refScroll:function(a){this._scrollComp=a}});l.a=a},BfDj:function(c,l,a){Object.defineProperty(l,"__esModule",{value:!0});l.default={url:function(a,
c){return a.replace(/^([^_]+)(_[a-zA-Z])?(\.\w+)$/i,"$1"+(c||"")+"$3")},justifySize:function(a,c,k,f){var b=k[1],d=f[1];k=k[0];f=f[0];a<=b&&c<=d?(b=k||a,d=f||c):a/c>=b/d?(b=Math.min(a,b),d=b*c/a):(d=Math.min(c,d),b=d*a/c);return[b,d]}}},HG4Y:function(c,l,a){c=a("GiK3");var g=a.n(c);c=a("DT0+");c=a.n(c);var e=a("SfNQ");a=c()({displayName:"AppBanner",render:function(){return g.a.createElement("div",{className:"zoro"+(this.props.hidden?" hidden":"")},g.a.createElement(e.a,null))}});l.a=a},SfNQ:function(c,
l,a){var g=a("P1Lv");c=a("GiK3");var e=a.n(c);c=a("DT0+");c=a.n(c);var k=a("tZ8z"),f=a.n(k),b=a("DzMU");a=c()({displayName:"AppCapsule",_text:"\u4e0b\u8f7dAPP",_expanded:!1,_container:null,getDefaultProps:function(){return{className:"",expandTimer:0}},render:function(){var a=this.props,f=a.top,a=a.className+" app-capsule "+(this._expanded?" expanded":""),c={};"number"==typeof f&&(c.top=f);return e.a.createElement(b.a,{tagName:"div",className:a,style:c,onTap:this.onTap,tapRef:this.refSelf},e.a.createElement(b.a,
{className:"logo",onTap:this.download}),e.a.createElement(b.a,{tagName:"h1",onTap:this.download},this._text),e.a.createElement("div",{className:"btns"},e.a.createElement(b.a,{tagName:"button",onTap:this.collapse},"\u6b8b\u5fcd\u62d2\u7edd"),e.a.createElement(b.a,{tagName:"button",onTap:this.download,className:"primary"},"\u7acb\u5373\u4e0b\u8f7d")))},componentDidMount:function(){var a=this.props.expandTimer;0<a&&(this._timer=setTimeout(this.expand,1E3*a))},shouldComponentUpdate:function(a,b){this._forceUpdate=
!1;return f.a.shouldComponentUpdate.call(this,a,b)},getSnapshotBeforeUpdate:function(a,b){var f=this._container;return this._forceUpdate&&f?f.getBoundingClientRect():null},componentDidUpdate:function(a,b,f){a=this._container;this._forceUpdate&&a&&f&&f.width&&(b=a.getBoundingClientRect(),a.style.transform=a.style.webkitTransform="translateX("+(f.left-b.left)+"px)\n                translateY("+(f.top-b.top)+"px)\n                translateZ(0)\n                scaleX("+f.width/b.width+")\n                scaleY("+
f.height/b.height+")",a.getBoundingClientRect(),requestAnimationFrame(this.play))},componentWillUnmount:function(){clearTimeout(this._timer)},collapse:function(){this._expanded=!1;this._text="\u4e0b\u8f7dAPP";this._forceUpdate=!0;this.forceUpdate()},expand:function(){this._expanded=!0;this._text="\u4e0b\u8f7d\u77f3\u69b4\u76f4\u64ad \u7cbe\u5f69\u968f\u5fc3\u6240\u6b32";this._forceUpdate=!0;this.forceUpdate()},download:function(){location.assign(Object(g.a)(0,this.props.roomOwnerUid))},play:function(){var a=
this._container;a&&(a.style.transition=a.style.webkitTransition="all .3s ease-out",a.style.transform=a.style.webkitTransform="")},onTap:function(a){this.props.onTap&&this.props.onTap(a)},refSelf:function(a){this._container=a}});l.a=a},SgXG:function(c,l,a){l=a("++oU");"string"===typeof l&&(l=[[c.i,l,""]]);a("fjbf")(l,{});l.locals&&(c.exports=l.locals)},"XB/8":function(c,l,a){function g(a,d,b){d in a?Object.defineProperty(a,d,{value:b,enumerable:!0,configurable:!0,writable:!0}):a[d]=b;return a}c=a("BYKG");
var e=a.n(c);c=a("T5Bi");c=a.n(c);var k=a("agns");a.n(k);var f=a("+z1K"),b=a.n(f),f=a("V6zD"),d=a.n(f),m=a("fiJj"),n=a("ZiWJ"),p;a=e.a.fromJS({allcount:0,byrtype:{r10:{name:"\u70bd\u661f",code:"r10",count:0,list:[]},r5:{name:"\u8d85\u661f",code:"r5",count:0,list:[]},r4:{name:"\u5de8\u661f",code:"r4",count:0,list:[]},r1:{name:"\u660e\u661f",code:"r1",count:0,list:[]},r2:{name:"\u7ea2\u4eba",code:"r2",count:0,list:[]},u2:{name:"\u8131\u53e3\u79c0",code:"u2",count:0,list:[]},u3:{name:"\u804a\u5427",
code:"u3",count:0,list:[]},u1:{name:"\u821e\u8e48",code:"u1",count:0,list:[]},u7:{name:"\u597d\u7269",code:"u7",count:0,list:[]}},bycate:{all:{name:"\u5168\u90e8",code:"all",count:0,list:[]},u0:{name:"\u597d\u58f0\u97f3",code:"u0",count:0,list:[]},mlive:{name:"\u624b\u673a\u76f4\u64ad",code:"mlive",count:0,list:[]},lianmai:{name:"\u8fde\u9ea6",code:"lianmai",count:0,list:[]},male:{name:"\u578b\u7537",code:"male",count:0,list:[]},special:{name:"\u7279\u8272",code:"special",count:0,list:[]},nearby:{name:"\u9644\u8fd1",
code:"nearby",count:0,list:[],locationList:[],location:0},hotrecom:{name:"\u70ed\u95e8\u76f4\u64ad",code:"hotrecom",count:0,list:[]},follow:{name:"\u5173\u6ce8",code:"follow",count:0,list:[]},sticky:{name:"\u7f6e\u9876",code:"sticky",count:0,list:[],rid:[]},xianchang:{name:"\u516d\u73b0\u573a",code:"xianchang",count:0,list:[]}},bytag:{"-1":{id:"-1",name:"\u63a8\u8350",icon:"//vr0.6rooms.com/v/o4/b832cf0e9663d4e1ee177cdb8c6ca455.png",count:-1,list:[]}},tagIcon:{},tagOrder:[],fetching:""});f=(p={},
g(p,"live.RECEIVE_LIVE_LIST",function(a,d){var b=d.payload,f=a.get("byrtype"),c=a.get("bycate"),m=Date.now();Object.keys(b).forEach(function(a){var d=b[a];"followList"==a?a="follow":"roomList"==a&&(a="hotrecom");f.has(a)?f=f.update(a,function(a){return a.set("list",e.a.fromJS(d)).set("_utime",m)}):c.has(a)&&(c=c.update(a,function(a){return a.set("list",e.a.fromJS(d)).set("_utime",m)}))});b.roomListCount&&Object.keys(b.roomListCount).forEach(function(a){var d=b.roomListCount[a];f.has(a)&&(f=f.updateIn([a,
"count"],function(){return d}));c.has(a)&&(c=c.updateIn([a,"count"],function(){return d}))});return a.withMutations(function(a){a.set("bycate",c).set("byrtype",f).set("allcount",b.roomListCount.allCount)})}),g(p,"live.RECEIVE_ALL_LIVE_LIST",function(a,d){var b=d.payload,f=Date.now(),b=b.roomList.sort(function(a,d){return parseFloat(d.count||0)-parseFloat(a.count||0)}),c=a.get("byrtype"),m=a.get("bycate"),k={},n={all:{name:m.getIn(["all","name"]),code:"all",count:0,list:[],_utime:f}},b=e.a.fromJS(b.filter(function(a){return!a.isvideo}));
b.forEach(function(a,d){var b=a.get("rtype");if((b="fu1"==b?"u1":b)&&c.has(b)){var h=k[b]=k[b]||{name:c.getIn([b,"name"]),code:b,count:0,list:[],_utime:f};h.list.push(a);h.count=h.list.length}b&&/^r\d+$/.test(b)&&(b=n.u0=n.u0||{name:m.getIn(["u0","name"]),code:"u0",count:0,list:[],_utime:f},b.list.push(a),b.count=b.list.length);n.all.list.push(a);n.all.count++});return a.merge({byrtype:c.merge(k),bycate:m.merge(n)})}),g(p,"live.RECEIVE_TAG_LIVE_LIST",function(a,b){var d=b.payload,f=d.roomList,d=String(d.requesttagid);
a.get("bytag").has(d)&&(a=a.mergeIn(["bytag",d],{count:f.length,list:f,_utime:Date.now()}));return a}),g(p,"live.RECEIVE_TAG_INFO",function(a,b){var d=b.payload;return a.withMutations(function(a){if(0==a.get("tagOrder").size){var b=d.map(function(a){return String(a.id)});b.unshift("-1");a.set("tagOrder",e.a.List(b))}0==a.get("tagIcon").size&&(b=d.map(function(a){return[String(a.id),a.viewPicSmall.img2x]}).reduce(function(a,b){a[b[0]]=b[1];return a},{}),a.set("tagIcon",e.a.Map(b)));d.forEach(function(b){var d=
["bytag",String(b.id)];a.getIn(d)?a.mergeIn(d,{count:b.count}):a.setIn(d,e.a.fromJS({id:String(b.id),name:b.name,count:b.count,icon:b.viewPicNormal.img2x,list:[]}))})})}),g(p,"live.UPDATE_LOCATION",function(a,b){return a.updateIn(["bycate","nearby","location"],function(){return Number(b.payload)})}),g(p,"live.RECEIVE_NEARBY_LVIE_LIST",function(a,b){var d=b.payload;return a.updateIn(["bycate","nearby"],function(a){return a.withMutations(function(a){var b=Number(d.pid),f=e.a.fromJS(d.provinceNumAry),
h=e.a.fromJS(d.roomList);a.set("location",b).set("locationList",f).set("list",h).set("count",h.size).set("_utime",Date.now())})})}),g(p,"live.RECEIVE_STICKY_RID",function(a,b){return a.updateIn(["bycate","sticky","rid"],function(a){return e.a.List(b.payload)})}),g(p,"live.UPDATE_STICKY_LIVE_LIST",function(a,b){var d=a.getIn(["bycate","sticky","rid"]).toArray(),f=b.payload,c=[],f=f.reduce(function(a,b){a[b.rid]=b;return a},{});d.forEach(function(a){f[a]&&c.push(f[a])});return a.updateIn(["bycate",
"sticky"],function(a){return a.set("count",c.length).set("list",e.a.fromJS(c)).set("_utime",Date.now())})}),g(p,"live.RECEIVE_XIANCHANG_LIST",function(a,b){var d=b.payload;return a.updateIn(["bycate","xianchang"],function(a){return a.withMutations(function(a){a.set("count",d.length).set("list",e.a.fromJS(d)).set("_utime",Date.now())})})}),p);n.a.registerByMap("live",a,f);p=function h(){h.superclass.constructor.call(this,n.a,"live");this._lastUpdate={};this._pageName=this._recID="";this._bindSelf("refresh",
"changeLocation","_getBack","_getAllBack","_getByTagBack","_getNearbyBack","_filterStickyRid","_getXianChangBack")};Object(k.extend)(p,c.a,{actionCreator:{receiveLiveList:function(a){return{type:"live.RECEIVE_LIVE_LIST",payload:a}},receiveAllLiveList:function(a){return{type:"live.RECEIVE_ALL_LIVE_LIST",payload:a}},receiveTagLiveList:function(a){return{type:"live.RECEIVE_TAG_LIVE_LIST",payload:a}},receiveNearbyLiveList:function(a){return{type:"live.RECEIVE_NEARBY_LVIE_LIST",payload:a}},receiveTagInfo:function(a){return{type:"live.RECEIVE_TAG_INFO",
payload:a}},updateLocation:function(a){return{type:"live.UPDATE_LOCATION",payload:a}},receiveStickyRid:function(a){return{type:"live.RECEIVE_STICKY_RID",payload:a}},updateStickyLiveList:function(a){return{type:"live.UPDATE_STICKY_LIVE_LIST",payload:a}},receiveXianChang:function(a){return{type:"live.RECEIVE_XIANCHANG_LIST",payload:a}}},get:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"all",b=arguments[1],d=null,f=a+(b||"");this._whetherFetch(f)&&(this.update({fetching:f}),
d="all"==a?this._getAll().then(this._getAllBack):"nearby"==a?Object(m.b)("coop-mobile-getlivelistlocation.php",{pid:b,recid:this._recID}).then(this._getNearbyBack):Object(m.b)("coop-mobile-getlivelistnew.php",{type:"hotrecom"==a?"":a,recid:this._recID}).then(this._getBack));return d},refresh:function(){return this.get()},getByTag:function(a){var b="tag"+a,d=null;this._whetherFetch(b)&&(this.update({fetching:b}),d=Object(m.b)("coop-mobile-getlivelistnew.php",{tagId:a,tagIdEvent:"click",recid:this._recID,
size:9999}).then(this._getByTagBack));return d},changeLocation:function(a){this.updateLocation(a);this.get("nearby",a)},pickLuckyGirl:function(a,d){var f=this,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:20;return new Promise(function(m,e){var k=f.get(a),n=function(){var e=f.getState(),e=e.getIn(["bycate",a,"list"])||e.getIn(["byrtype",a,"list"]),e=e.toArray();Array.isArray(d)&&(e=e.filter(function(a){return 0>d.indexOf(a.get("rid"))}));e=e.slice(0,Math.min(c,e.length));b.a.shuffleArray(e);
m(e);k=n=null};k?k.then(n):n()})},getSticky:function(a){var b=Date.now();6E5<b-(this._lastUpdate.sticky||0)&&(this.receiveStickyRid(a),this._getAll().then(this._filterStickyRid),this._lastUpdate.sticky=b)},getXianChang:function(){Object(m.b)("xianchang-index.php",{isJson:1}).then(this._getXianChangBack)},_whetherFetch:function(a){var b=Date.now(),d=this.getState().get("fetching"),f=this._lastUpdate,c=!1;d!=a&&18E4<b-(f[a]||0)?(f[a]=b,c=!0):this._notifyAnalytic({recid:this._recID,pagename:this._pageName});
return c},_getXianChangBack:function(a){"001"==a.flag&&(a=a.content.trailerArr[0].list.filter(function(a){return 2==a.isLive}),a.forEach(function(a){return a.xianChang=1}),this.receiveXianChang(a))},_getAll:function(){return Object(m.b)("liveAjax.html",{rate:100})},_getBack:function(a){"001"==a.flag&&(a=a.content,this._notifyAnalytic(a),this.receiveLiveList(a),a.tagInfo&&this.receiveTagInfo(a.tagInfo));this.update({fetching:""});return a},_getAllBack:function(a){this.receiveAllLiveList(a);this.update({fetching:""});
return a},_getByTagBack:function(a){"001"==a.flag&&a.content.tagInfo&&(a=a.content,this._notifyAnalytic(a),this.receiveTagInfo(a.tagInfo),this.receiveTagLiveList(a));this.update({fetching:""});return a},_getNearbyBack:function(a){"001"==a.flag&&(this._notifyAnalytic(a.content),this.receiveNearbyLiveList(a.content));this.update({fetching:""})},_filterStickyRid:function(a){this.updateStickyLiveList(a.roomList)},_notifyAnalytic:function(a){if(a&&a.recid){var b=a.recid;a=a.pagename;this._recID=b;this._pageName=
a;d.a.publish("receive-recid",b,a)}}});l.a=new p},bhlv:function(c,l,a){function g(a,b,d,f){var c=a,h=b;d<=p&&!k()&&!e()?(h=Math.min(.6*f,b),c=h*a/b):d<a&&(c=d,h=c*b/a);return[c,h]}function e(){return b.a.android&&(b.a.qq||b.a.wechat)}function k(){return b.a.uc||b.a.baidu||b.a.baiduApp||b.a.xiaomi||/oppobrowser/i.test(navigator.userAgent)}function f(a){var b=a.videoType;a=a.windowWidth;return!k()&&a<=p&&5==b}l.d=e;l.c=k;l.e=f;l.b=function(a){var b=a.videoType,d=a.windowWidth;a=a.windowHeight;var c,
e;1==b?(c=g.apply(void 0,w.concat([d,a])),b=n(c,2),c=b[0],e=b[1]):6==b?(c=g.apply(void 0,u.concat([d,a])),b=n(c,2),c=b[0],e=b[1]):5==b&&(f({videoType:b,windowWidth:d})?(c=d,e=Math.min(a,c*h[1]/h[0])):(e=.6*a,c=e*h[0]/h[1]));return[c,e]};l.a=function(a){var b=a.videoType;a=(a.windowWidth-a.playerWidth)/2;var f=0;e()&&5!=b?f=m.F:k()&&(f=m.D,d.a.yes()&&1182==d.a.info.cid&&(f+=44));return[a,f]};c=a("/ule");var b=a.n(c),d=a("cLh8"),m=a("+itZ"),n=function(){return function(a,b){if(Array.isArray(a))return a;
if(Symbol.iterator in Object(a)){var d=[],f=!0,c=!1,h=void 0;try{for(var e=a[Symbol.iterator](),m;!(f=(m=e.next()).done)&&(d.push(m.value),!b||d.length!==b);f=!0);}catch(k){c=!0,h=k}finally{try{if(!f&&e["return"])e["return"]()}finally{if(c)throw h;}}return d}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),p=480,w=[480,360],h=[432,768],u=[768,432]},ej2W:function(c,l,a){c=a("GiK3");var g=a.n(c);c=a("DT0+");var e=function(){return g.a.createElement("div",{className:"loading"},
g.a.createElement("b",{className:"spinner xs"}))};a=a.n(c)()({displayName:"ScrollLoad",getDefaultProps:function(){return{initialLoad:!0}},_container:null,_timer:null,_fillBlankTimer:null,render:function(){var a=this.props,f=a.children,a=!a.complete&&g.a.createElement(e,null);return g.a.createElement("div",{ref:this.refSelf},f,a)},componentDidMount:function(){var a=this.props,f=a.initialLoad;a.complete||(this.attachScrollHandler(),f&&this.fillBlank())},componentDidUpdate:function(a){var f=this.props.complete;
a.complete!=f&&(f?this.detachScrollHandler():this.attachScrollHandler())},componentWillUnmount:function(){this.detachScrollHandler();clearTimeout(this._timer);clearTimeout(this._fillBlankTimer)},refSelf:function(a){this._container=a},scrollHandler:function(){this._timer||(this._timer=setTimeout(this.doScroll,800))},attachScrollHandler:function(){self.addEventListener("scroll",this.scrollHandler)},detachScrollHandler:function(){self.removeEventListener("scroll",this.scrollHandler)},whetherLoad:function(){if(this._container.getBoundingClientRect().bottom<=
document.documentElement.clientHeight+200)return!0},doScroll:function(){var a=this.props.onDemand;this.whetherLoad()&&a();this._timer=null},fillBlank:function(){var a=this.props,f=a.complete,a=a.onDemand;this.whetherLoad()&&!f&&(a(),this._fillBlankTimer=setTimeout(this.fillBlank,800))}});l.a=a},fBrz:function(c,l,a){c=a("GiK3");var g=a.n(c);c=a("DT0+");c=a.n(c);var e=a("tZ8z");a=a.n(e);a=c()({displayName:"LocationSelect",mixins:[a.a],render:function(){var a=this.props.list.toArray().map(function(a){return g.a.createElement("option",
{value:a.get("pid"),key:a.get("pid")},a.get("title"))});return g.a.createElement("div",{className:"index-location-select"},g.a.createElement("select",{value:this.props.value,onChange:this.onChange},a),g.a.createElement("i",{className:"iconfont icon-xiangxia"}))},onChange:function(a){this.props.onChange&&this.props.onChange(a.target.value)}});l.a=a},iMHc:function(c,l,a){var g=a("agns");a.n(g);c=a("GiK3");var e=a.n(c);c=a("DT0+");a=a.n(c);var k=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var d=
arguments[b],c;for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}return a};a=a()({displayName:"Scroll",getDefaultProps:function(){return{axis:"y",startX:0,startY:0,bounce:!0,momentum:!0,preventDefault:!0,preventInteractionInTransition:!1}},wrap:null,scroller:null,scrollerStyle:{},startX:0,startY:0,x:0,y:0,distX:0,distY:0,startTime:0,maxScrollX:0,maxScrollY:0,wrapperWidth:0,wrapperHeight:0,moved:!1,isInTransition:!1,render:function(){var a=Object(g.omit)(this.props,"children","axis",
"startX","startY","bounce","momentum","preventDefault","preventInteractionInTransition","onBeforeScrollStart","onScrollStart","onScrollEnd","onScrollCancel");return e.a.createElement("div",k({ref:this._refSelf},a),this.props.children)},componentDidMount:function(){var a=this.wrap,b=this.props,d=b.startX,b=b.startY;this.startX=d;this.startY=b;this.scroller=a.children[0];this.scrollerStyle=this.scroller.style;this.scrollerStyle.willChange="transform";this.refresh();this.scrollTo(d,b);this._bindEvent(!0)},
componentWillUnmount:function(){this._bindEvent(!1);this.scroller=this.scrollerStyle=null},refresh:function(){var a=this.wrap,b=a.getBoundingClientRect(),d=this.scroller.getBoundingClientRect();this.wrapperWidth=b.width;this.wrapperHeight=b.height;"y"==this.props.axis?(this.maxScrollX=0,this.maxScrollY=Math.min(b.height-d.height,0),a.style.touchAction="pan-y"):(this.maxScrollY=0,this.maxScrollX=Math.min(b.width-d.width,0),a.style.touchAction="pan-x");this.resetPosition()},scrollTo:function(a,b){var d=
2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"cubic-bezier(0.1, 0.57, 0.1, 1)";this.isInTransition=0<d;this._transitionTime(d);0<d&&this._transitionTimingFunction(c);this._translate(a,b)},resetPosition:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,b=this.x,d=this.y,c=!1,b=Math.min(0,Math.max(b,this.maxScrollX)),d=Math.min(0,Math.max(d,this.maxScrollY));if(this.x!=b||this.y!=d)this.scrollTo(b,d,a,"cubic-bezier(0.1, 0.57, 0.1, 1)"),
c=!0;return c},getComputedPosition:function(){var a=window.getComputedStyle(this.scroller,null),a=(a.transform||a.webkitTransform).split(")")[0].split(", ");return{x:Number(a[12]||a[4]),y:Number(a[13]||a[5])}},scrollToElem:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=arguments[2],c=arguments[3],e="string"==typeof a?this.scroller.querySelector(a):a;if(e){var p=this.x,g=this.y,e=e.getBoundingClientRect(),h=this.scroller.getBoundingClientRect();"x"==this.props.axis?p=
Math.min(0,Math.max(this.maxScrollX,h.left-e.left+b)):g=Math.min(0,Math.max(this.maxScrollY,h.top-e.top+b));this.scrollTo(p,g,d,c)}},placeElemToMiddle:function(a,b,d){if(a="string"==typeof a?this.scroller.querySelector(a):a){var c=a.getBoundingClientRect();this.scrollToElem(a,"x"==this.props.axis?this.wrapperWidth/2-c.width/2:this.wrapperHeight/2-c.height/2,b,d)}},placeElemIntoView:function(a,b,d){var c="string"==typeof a?this.scroller.querySelector(a):a;if(c){var c=c.getBoundingClientRect(),e=this.wrap.getBoundingClientRect(),
g=!1;(g="x"==this.props.axis?c.left>=e.left&&c.right<=e.right:c.top>=e.top&&c.bottom<=e.bottom)||this.placeElemToMiddle(a,b,d)}},_start:function(a){var b=a.touches[0],d=this.props,c=d.onBeforeScrollStart,e=d.onScrollEnd;d.preventDefault&&a.preventDefault();this.distY=this.distX=0;this.moved=!1;this.startTime=Date.now();this.isInTransition&&(a=this.getComputedPosition(),this.scrollTo(a.x,a.y),e&&e());this.startX=this.x;this.startY=this.y;this.touchX=b.pageX;this.touchY=b.pageY;c&&c()},_move:function(a){var b=
a.touches[0];a=b.pageX-this.touchX;var d=b.pageY-this.touchY,c=Date.now(),e=this.props,g=e.axis,k=e.bounce,e=e.onScrollStart;this.touchX=b.pageX;this.touchY=b.pageY;this.distX+=a;this.distY+=d;var b=Math.abs(this.distX),h=Math.abs(this.distY);if("x"==g&&10<b&&b>h||"y"==g&&10<h&&h>b){b="x"==g?this.x+a:0;g="y"==g?this.y+d:0;if(0<b||b<this.maxScrollX)b=k?this.x+a/3:0<b?0:this.maxScrollX;if(0<g||g<this.maxScrollY)g=k?this.y+d/3:0<g?0:this.maxScrollY;!this.moved&&e&&e();this.moved=!0;this._translate(b,
g)}300<c-this.startTime&&(this.startTime=c,this.startX=this.x,this.startY=this.y)},_end:function(){var a=Date.now()-this.startTime,b=Math.round(this.x),d=Math.round(this.y),c=this.props,e=c.axis,g=c.bounce,k=c.momentum,h=c.onScrollEnd,l=c.onScrollCancel,c=0;if(this.resetPosition(g?600:0))g||h&&h();else if(this.scrollTo(b,d),!this.moved&&l)l();else if(this.moved&&k&&300>a)if(k="x"==e?this._momentum(this.x,this.startX,a,this.maxScrollX,g?this.wrapperWidth:0):{destination:b,duration:0},a="y"==e?this._momentum(this.y,
this.startY,a,this.maxScrollY,g?this.wrapperHeight:0):{destination:d,duration:0},b=k.destination,d=a.destination,c=Math.max(k.duration,a.duration),b!=this.x||d!=this.y){h=void 0;if(0<b||b<this.maxScrollX||0<d||d<this.maxScrollY)h="cubic-bezier(0.25, 0.46, 0.45, 0.94)";this.scrollTo(b,d,c,h)}else h&&h();else h&&h()},_translate:function(a,b){var d=this.scrollerStyle;d.transform=d.webkitTransform="translate("+a+"px, "+b+"px)";this.x=a;this.y=b},_transitionEnd:function(a){a.target==this.scroller&&this.isInTransition&&
(this._transitionTime(),this.resetPosition(600)||(this.isInTransition=!1,this.props.onScrollEnd&&this.props.onScrollEnd()))},_transitionTime:function(){var a=this.scrollerStyle;a.transitionDuration=a.webkitTransitionDuration=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)+"ms"},_transitionTimingFunction:function(a){var b=this.scrollerStyle;b.transitionTimingFunction=b.webkitTransitionTimingFunction=a},_momentum:function(a,b,d,c,e){var g=5<arguments.length&&void 0!==arguments[5]?arguments[5]:
6E-4,k=a-b,h=Math.abs(k)/d,l=h/g,g=a+h*h/(2*g)*(0>k?-1:1);g<c?(g=e?c-e/2.5*(h/8):c,k=Math.abs(g-a),l=k/h):0<g&&(g=e?e/2.5*(h/8):0,k=Math.abs(a)+g,l=k/h);return{destination:Math.round(g),duration:l}},_bindEvent:function(a){a=a?"addEventListener":"removeEventListener";var b=this.scroller,d=this._eventHandler;b[a]("touchstart",d,!1);b[a]("touchmove",d,!1);b[a]("touchend",d,!1);b[a]("touchcancel",d,!1);b[a]("transitionend",d,!1);b[a]("webkitTransitionEnd",d,!1)},_eventHandler:function(a){switch(a.type){case "touchstart":this._start(a);
break;case "touchmove":this._move(a);break;case "touchend":case "touchcancel":this._end(a);break;case "transitionend":case "webkitTransitionEnd":this._transitionEnd(a)}},_refSelf:function(a){this.wrap=a}});l.a=a},jOJO:function(c,l,a){c=a("BfDj");var g=a.n(c),e=a("KV26"),k=a("bhlv");c=a("GiK3");var f=a.n(c);c=a("DT0+");a=a.n(c);var b=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],f=!0,e=!1,h=void 0;try{for(var g=a[Symbol.iterator](),k;!(f=(k=
g.next()).done)&&(c.push(k.value),!b||c.length!==b);f=!0);}catch(l){e=!0,h=l}finally{try{if(!f&&g["return"])g["return"]()}finally{if(e)throw h;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();a=a()({displayName:"TransitionOfToRoom",_poster:"",_windowWidth:0,_windowHeight:0,_fakePlayerSize:[0,0],_fakePlayerPos:[0,0],_container:null,_fakePlayer:null,render:function(){var a=b(this._fakePlayerSize,2),c=a[0],a=a[1],e=b(this._fakePlayerPos,2);return f.a.createElement("div",
{className:"transition-of-to-room",style:{display:this._windowHeight?"":"none"},ref:this.refSelf},f.a.createElement("div",{className:"fake-player",ref:this.refFakePlayer,style:{width:c,height:a,left:e[0],top:e[1]}}))},componentDidMount:function(){var a=this.props.data,b=Number(a.get("videotype")),c=window.innerWidth,f=window.innerHeight,e=Object(k.b)({videoType:b,windowWidth:c,windowHeight:f}),b=Object(k.a)({videoType:b,playerWidth:e[0],windowWidth:c});this._poster=g.a.url(a.get("pospic"),"_b");this._windowWidth=
c;this._windowHeight=f;this._fakePlayerSize=e;this._fakePlayerPos=b;this.forceUpdate()},getSnapshotBeforeUpdate:function(a,b){var c=this.props.data,f="live-list-item-"+c.get("rid"),e=document.getElementById(f);if(e){var c=c.get("videotype"),f=this._container,h=this._fakePlayer,g=this._fakePlayerSize,l=this._fakePlayerPos,t=e.querySelector(".pic").getBoundingClientRect(),q=t.width/this._windowWidth,A=t.height/this._windowHeight,e="translateX("+t.left+"px)\n                translateY("+t.top+"px)\n                scaleX("+
q+")\n                scaleY("+A+")",g="translateX("+-l[0]+"px)\n                translateY("+-l[1]+"px)\n                scaleX("+t.width/g[0]/q+")\n                scaleY("+t.height/g[1]/A+")";h.style.backgroundImage='url("'+this._poster+'")';h.style.transform=h.style.webkitTransform=g;f.style.transform=f.webkitTransform=e;Object(k.d)()&&5!=c&&(h.style.backgroundPosition="center 0",h.style.backgroundSize="100%");return!0}return!1},componentDidUpdate:function(a,b,c){c?this.play():this.toRoom()},
componentWillUnmount:function(){this._fakePlayer.removeEventListener("transitionend",this.toRoom,!1)},play:function(){var a=this._fakePlayer,b=this._container.style,c=a.style;a.addEventListener("transitionend",this.toRoom,!1);a.getBoundingClientRect();c.transition=c.webkitTransition=b.transition=b.webkitTransition="all 0.2s ease-out";c.transform=c.webkitTransform=b.transform=b.webkitTransform=""},toRoom:function(){var a=this.props.data;e.a.push("/"+a.get("rid"),{uid:a.get("uid"),videotype:a.get("videotype"),
poster:this._poster,flvtitle:a.get("flvtitle")})},refSelf:function(a){this._container=a},refFakePlayer:function(a){this._fakePlayer=a}});l.a=a},kFli:function(c,l,a){c=a("BYKG");var g=a.n(c);c=a("GiK3");var e=a.n(c);c=a("DT0+");c=a.n(c);var k=a("tZ8z"),k=a.n(k),f=a("iMHc"),b=a("eMPr"),d=a("DzMU"),m=a("wCdf"),n=c()({displayName:"Item",render:function(){var a=this.props,c=a.item,d=a.current,a=c.get("id"),f={backgroundImage:'url("'+c.get("icon")+'")'},d="tag-item t"+a+(d==a?" on":"")+(0==c.get("count")?
" empty":"");return e.a.createElement(b.a,{tagName:"li",className:d,href:"-1"==a?"/":"/live/tag-"+a,style:f},c.get("name"))}}),p=c()({displayName:"List",render:function(){var a=this.props,b=a.oneLine,c=a.current,d=a.byTag,a=a.tagOrder.toArray().filter(function(a){return(a=d.get(a))&&0!=a.get("count")}).map(function(a){return d.get(a)});b?(b={width:60*a.length},a=a.map(function(a){return e.a.createElement(n,{item:a,key:a.get("id"),current:c})}),b=e.a.createElement("ul",{className:"tag-list oneline",
style:b},a)):(b=g.a.List(a),b=e.a.createElement(m.a,{list:b,component:n,itemWidth:80,current:c,className:"tag-list"}));return b}});a=c()({displayName:"TagNavigator",mixins:[k.a],_scroll:null,render:function(){var a=this.props,b=a.expand,c=a.current,g=a.live,a=a.onToggle,k=g.get("tagOrder"),l=g.get("bytag"),g="tag-navigator"+(b?" expand":""),c=e.a.createElement(p,{oneLine:!b,current:c,byTag:l,tagOrder:k}),m,n;b?(m="\u5168\u90e8\u5185\u5bb9",n=e.a.createElement("div",{className:"g-scrolling"},c)):0<
k.size&&(m=e.a.createElement(f.a,{axis:"x",ref:this.refScroll},c));return e.a.createElement("div",{className:g,"data-tracing":"tag_navigator"},e.a.createElement("header",null,e.a.createElement("div",{className:"main"},m),e.a.createElement(d.a,{tagName:"div",className:"icon",onTap:a},e.a.createElement("i",{className:"iconfont icon-xiangxia"}))),n)},componentDidMount:function(){var a=this.props.current;this._scroll&&a&&this._scroll.placeElemToMiddle(".t"+a)},componentDidUpdate:function(a){var b=this.props,
c=b.current,b=b.live;a.current==c&&b.get("tagOrder").size==a.live.get("tagOrder").size||!this._scroll||(this._scroll.refresh(),this._scroll.placeElemToMiddle(".t"+c))},refScroll:function(a){this._scroll=a}});l.a=a},li1U:function(c,l,a){c=a("GiK3");var g=a.n(c);c=a("DT0+");c=a.n(c);var e=a("eMPr"),k=c()({displayName:"Item",render:function(){var a=this.props,b=a.code;return g.a.createElement(e.a,{tagName:"li",href:("xianchang"==b?"/":"/live/")+b,className:b==a.current?"on":""},a.text)}});a=c()({displayName:"LiveCategory",
render:function(){var a=this.props,b=a.current,a="livecate"+(a.collapse?" collapse":""),c=[["hotrecom","\u70ed\u95e8"],["nearby","\u9644\u8fd1"],["u0","\u597d\u58f0\u97f3"],["u1","\u821e\u8e48"],["u2","\u8131\u53e3\u79c0"],["u7","\u597d\u7269"],["xianchang","\u516d\u73b0\u573a"]],c=c.map(function(a){return g.a.createElement(k,{text:a[1],code:a[0],key:a[0],current:b})});return g.a.createElement("div",{className:a,"data-tracing":"live_category"},g.a.createElement("ul",{className:"g-scrolling"},c))}});
l.a=a},mag7:function(c,l,a){l.a=function(){var a=e.a.getInfo(),b=!1;if(!k.a.yes()||k.a.conf("app"))b=g.a.wechat||a.showAppBanner;return b};c=a("/ule");var g=a.n(c),e=a("VSEd"),k=a("cLh8")},onOd:function(c,l,a){c=a("GiK3");var g=a.n(c);c=a("DT0+");c=a.n(c);var e=a("DzMU"),k=a("N//m");a=c()({displayName:"PhoneStarOverlay",render:function(){var a=this.props,b=a.onClose,c=a.onSubmit,a="btn"+(a.fetching?" disable":"");return g.a.createElement(k.a,{className:"phone-star-overlay",onClose:b},g.a.createElement("div",
{className:"wrap"},g.a.createElement("div",{className:"icon"}),g.a.createElement("div",{className:"intro"},"\u606d\u559c\u60a8\u83b7\u5f97\u6bcf\u65e5\u767b\u5f55\u793c\u5305",g.a.createElement("br",null),"\u624b\u673a\u661f\u661f10\u4e2a"),g.a.createElement(e.a,{tagName:"div",className:a,onTap:c}),g.a.createElement(e.a,{tagName:"div",className:"close",onTap:b})))}});l.a=a}});
